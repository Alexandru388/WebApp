@{
ViewBag.Title = "Atribuire Camera";
var studenti = ViewBag.Studenti as List<Student>;
var camine = ViewBag.Camine as List<Camin>;
}

<h2>Atribuire Camera</h2>

@if (TempData["Success"] != null)
{
<div class="alert alert-success">
    @TempData["Success"]
</div>
}

<form method="post" asp-action="Atribuire">
    <div class="form-group">
        <label for="studentId">Selectati Student</label>
        <select class="form-control" id="studentId" name="studentId" required>
            <option value="">-- Selectati --</option>
            @if (studenti != null)
            {
            @foreach (var student in studenti)
            {
            <option value="@student.StudentID">@student.Nume</option>
            }
            }
        </select>
    </div>

    <div class="form-group">
        <label for="caminId">Selectați Camin</label>
        <select class="form-control" id="caminId" name="caminId" required>
            <option value="">-- Selectați --</option>
            @if (camine != null)
            {
            @foreach (var camin in camine)
            {
            <option value="@camin.CaminID">@camin.Nume</option>
            }
            }
        </select>
    </div>

    <div class="form-group">
        <label for="numarCamera">Numar Camera</label>
        <input type="number" class="form-control" id="numarCamera" name="numarCamera" required />
    </div>

    <button type="submit" class="btn btn-primary">Atribuire</button>
</form>

@if (!ViewData.ModelState.IsValid)
{
<div class="alert alert-danger">
    @foreach (var error in ViewData.ModelState.Values.SelectMany(v => v.Errors))
    {
    <p>@error.ErrorMessage</p>
    }
</div>
}